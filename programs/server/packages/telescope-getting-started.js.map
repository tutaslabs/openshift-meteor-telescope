{"version":3,"sources":["telescope-getting-started//Users/tutasg/meteor/telescope/packages/telescope-getting-started/package-tap.i18n","telescope-getting-started/lib/getting_started.js","telescope-getting-started/lib/server/dummy_content.js","telescope-getting-started//Users/tutasg/meteor/telescope/packages/telescope-getting-started/i18n/en.i18n.json"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2H;;AAEA,+D;AACA,gD;;;;;;;;;;;;;;;;;;;ACHA,qB;AACA,G;AACA,8B;AACA,qB;AACA,mB;AACA,qB;AACA,iB;AACA,kB;AACA,O;AACA,K;AACA,G;AACA,E;;AAEA,qB;AACA,G;AACA,4B;AACA,qB;AACA,oB;AACA,qB;AACA,iB;AACA,kB;AACA,O;AACA,K;AACA,G;AACA,E;;AAEA,yB;AACA,G;AACA,4B;AACA,qB;AACA,oB;AACA,qB;AACA,iB;AACA,kB;AACA,O;AACA,K;AACA,G;AACA,E;;;;;;;;;;;;;;;;;;ACrCA,kC;AACA,iH;AACA,C;;AAEA,iE;AACA,c;AACA,uB;AACA,oD;AACA,gD;AACA,oB;AACA,kB;AACA,0D;AACA,G;;AAEA,uC;AACA,yF;;AAEA,mB;AACA,C;;AAEA,iE;;AAEA,iB;AACA,iD;AACA,2D;AACA,e;AACA,kB;AACA,8B;AACA,G;AACA,2D;AACA,gD;;AAEA,yB;AACA,C;;AAEA,oC;AACA,uB;AACA,sB;AACA,yC;AACA,c;AACA,mB;AACA,K;AACA,K;AACA,uB;AACA,uB;AACA,yC;AACA,c;AACA,mB;AACA,K;AACA,K;AACA,uB;AACA,sB;AACA,yC;AACA,c;AACA,mB;AACA,K;AACA,K;AACA,C;;AAEA,oC;;AAEA,6E;;AAEA,yF;;AAEA,uF;;AAEA,kG;;AAEA,+F;;AAEA,C;;AAEA,uC;;AAEA,oE;;AAEA,0E;AACA,0H;;AAEA,2G;;AAEA,2F;AACA,+I;;AAEA,C;;AAEA,kC;AACA,iD;AACA,gC;AACA,mC;AACA,C;;AAEA,gB;AACA,yC;AACA,iC;AACA,yB;AACA,yB;AACA,4B;AACA,K;AACA,I;AACA,4C;AACA,+B;AACA,2B;AACA,G;AACA,E;;AAEA,4B;AACA,yG;AACA,+E;AACA,uB;AACA,uB;AACA,0B;AACA,0E;AACA,G;AACA,G;;;;;;;;;;;;;;;;;;ACnHA,6B;AACA,+C;AACA,4C;;AAEA,gC;AACA,yD;AACA,C;AACA,gD;AACA,kB;AACA,mE;AACA,gD","file":"/packages/telescope-getting-started.js","sourcesContent":["TAPi18n.packages[\"telescope-getting-started\"] = {\"translation_function_name\":\"__\",\"helper_name\":\"_\",\"namespace\":\"project\"};\n\n// define package's translation function (proxy to the i18next)\n__ = TAPi18n._getPackageI18nextProxy(\"project\");\n","addToPostSchema.push(\n  {\n    propertyName: 'dummySlug',\n    propertySchema: {\n      type: String,\n      optional: true,\n      autoform: {\n        omit: true\n      }\n    }\n  }\n);\n\naddToPostSchema.push(\n  {\n    propertyName: 'isDummy',\n    propertySchema: {\n      type: Boolean,\n      optional: true,\n      autoform: {\n        omit: true\n      }\n    }\n  }\n);\n\naddToCommentsSchema.push(\n  {\n    propertyName: 'isDummy',\n    propertySchema: {\n      type: Boolean,\n      optional: true,\n      autoform: {\n        omit: true\n      }\n    }\n  }\n);","var toTitleCase = function (str) {\n  return str.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\n}\n\nvar createPost = function (slug, postedAt, username, thumbnail) {\n  var post = {\n    postedAt: postedAt,\n    body: Assets.getText(\"content/\" + slug + \".md\"),\n    title: toTitleCase(slug.replace(/_/g, ' ')),\n    dummySlug: slug,\n    isDummy: true,\n    userId: Meteor.users.findOne({username: username})._id\n  }\n\n  if (typeof thumbnail !== \"undefined\")\n    post.thumbnailUrl = \"/packages/telescope-getting-started/content/images/\" + thumbnail\n\n  submitPost(post);\n}\n\nvar createComment = function (slug, username, body, parentBody) {\n\n  var comment = {\n    postId: Posts.findOne({dummySlug: slug})._id,\n    userId: Meteor.users.findOne({username: username})._id,\n    body: body,\n    isDummy: true,\n    disableNotifications: true\n  }\n  if (parentComment = Comments.findOne({body: parentBody}))\n    comment.parentCommentId = parentComment._id;\n\n  submitComment(comment);\n}\n\nvar createDummyUsers = function () {\n  Accounts.createUser({\n    username: 'Bruce',\n    email: 'dummyuser1@telescopeapp.org',\n    profile: {\n      isDummy: true\n    }\n  });\n  Accounts.createUser({\n    username: 'Arnold',\n    email: 'dummyuser2@telescopeapp.org',\n    profile: {\n      isDummy: true\n    }\n  });\n  Accounts.createUser({\n    username: 'Julia',\n    email: 'dummyuser3@telescopeapp.org',\n    profile: {\n      isDummy: true\n    }\n  });\n}\n\nvar createDummyPosts = function () {\n\n  createPost(\"read_this_first\", moment().toDate(), \"Bruce\", \"telescope.png\");\n\n  createPost(\"deploying_telescope\", moment().subtract(10, 'minutes').toDate(), \"Arnold\");\n\n  createPost(\"customizing_telescope\", moment().subtract(3, 'hours').toDate(), \"Julia\");\n\n  createPost(\"getting_help\", moment().subtract(1, 'days').toDate(), \"Bruce\", \"stackoverflow.png\");\n\n  createPost(\"removing_getting_started_posts\", moment().subtract(2, 'days').toDate(), \"Julia\");\n\n}\n\nvar createDummyComments = function () {\n\n  createComment(\"read_this_first\", \"Bruce\", \"What an awesome app!\");\n\n  createComment(\"deploying_telescope\", \"Arnold\", \"Deploy to da choppah!\");\n  createComment(\"deploying_telescope\", \"Julia\", \"Do you really need to say this all the time?\", \"Deploy to the choppah!\");\n\n  createComment(\"customizing_telescope\", \"Julia\", \"I can't wait to make my app pretty. Get it? *Pretty*?\");\n\n  createComment(\"removing_getting_started_posts\", \"Bruce\", \"Yippee ki-yay, motherfucker!\");\n  createComment(\"removing_getting_started_posts\", \"Arnold\", \"I don't think you're supposed to swear in hereâ€¦\", \"Yippee ki-yay, motherfucker!\");\n\n}\n\ndeleteDummyContent = function () {\n  Meteor.users.remove({'profile.isDummy': true});\n  Posts.remove({isDummy: true});\n  Comments.remove({isDummy: true});\n}\n\nMeteor.methods({\n  addGettingStartedContent: function () {\n    if (isAdmin(Meteor.user())) {\n      createDummyUsers();\n      createDummyPosts();\n      createDummyComments();\n    }\n  },\n  removeGettingStartedContent: function () {\n    if (isAdmin(Meteor.user()))\n      deleteDummyContent();\n  }\n})\n\nMeteor.startup(function () {\n  // insert dummy content only if createDummyContent hasn't happened and there aren't any posts in the db\n  if (!Events.findOne({name: 'createDummyContent'}) && !Posts.find().count()) {\n    createDummyUsers();\n    createDummyPosts();\n    createDummyComments();\n    logEvent({name: 'createDummyContent', unique: true, important: true});\n  }\n});","var _ = Package.underscore._,\n    package_name = \"telescope-getting-started\",\n    namespace = \"telescope-getting-started\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\n// integrate the fallback language translations \ntranslations = {};\ntranslations[namespace] = {\"translation_key\":\"translation string\"};\nTAPi18n._loadLangFileObject(\"en\", translations);\n"]}